(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"6M75":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var c=n("fXoL"),a=n("kmnG"),r=n("NFeN"),o=n("qFsG"),i=n("3Pt+"),s=n("ofXK"),l=n("bTqV");function d(t,e){if(1&t){const t=c.Tb();c.Sb(0,"button",3),c.Zb("click",function(){return c.oc(t),c.cc().clear()}),c.Sb(1,"mat-icon"),c.vc(2,"close"),c.Rb(),c.Rb()}}let u=(()=>{class t{constructor(){this.productToSearch=new c.n}searchProduct(){this.productToSearch.emit(this.productNameValue)}clear(){this.productNameValue="",this.productToSearch.emit(this.productNameValue)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-search-bar"]],outputs:{productToSearch:"productToSearch"},decls:8,vars:2,consts:[["matInput","",3,"ngModel","ngModelChange","keyup"],["productToSearchInfo",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(t,e){if(1&t&&(c.Sb(0,"mat-form-field"),c.Sb(1,"mat-label"),c.vc(2," Search Product "),c.Sb(3,"mat-icon"),c.vc(4,"search"),c.Rb(),c.Rb(),c.Sb(5,"input",0,1),c.Zb("ngModelChange",function(t){return e.productNameValue=t})("keyup",function(){return e.searchProduct()}),c.Rb(),c.uc(7,d,3,0,"button",2),c.Rb()),2&t){const t=c.nc(6);c.Bb(5),c.hc("ngModel",e.productNameValue),c.Bb(2),c.hc("ngIf",t.value)}},directives:[a.c,a.f,r.a,o.b,i.b,i.l,i.o,s.m,l.b,a.g],styles:["mat-form-field[_ngcontent-%COMP%]{width:180px;padding:0}"]}),t})()},Nqw5:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var c=n("mrSG"),a=n("AytR"),r=n("CjlW"),o=n("vBqF"),i=n("fXoL"),s=n("tk/3");let l=(()=>{class t{constructor(t){this.httpClient=t}getAllProducts(){return Object(c.a)(this,void 0,void 0,function*(){if(!o.a.getState().productsState.products.length){const t=yield this.httpClient.get(a.a.productsUrl).toPromise();o.a.dispatch(Object(r.b)(t))}return o.a.getState().productsState.products})}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s.b))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},cOBF:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var c=n("mrSG"),a=n("AytR"),r=n("ZWFy"),o=n("vBqF"),i=n("fXoL"),s=n("tk/3");let l=(()=>{class t{constructor(t){this.httpClient=t}getAllCartItemsAsync(t){return Object(c.a)(this,void 0,void 0,function*(){const e=o.a.getState().cartItemState.cartItems;if(!e.length||e[0].shoppingCartId!==t){const e=yield this.httpClient.get(a.a.cartItemsUrl+t).toPromise();o.a.dispatch(Object(r.d)(e))}return o.a.getState().cartItemState.cartItems})}addCartItemAsync(t){return Object(c.a)(this,void 0,void 0,function*(){const e=yield this.httpClient.post(a.a.cartItemsUrl,t).toPromise();return o.a.dispatch(Object(r.a)(e)),e})}deleteCartItemAsync(t){return Object(c.a)(this,void 0,void 0,function*(){yield this.httpClient.delete(a.a.cartItemsUrl+t).toPromise(),o.a.dispatch(Object(r.c)(t))})}deleteAllCartItemsAsync(){return Object(c.a)(this,void 0,void 0,function*(){const t=o.a.getState().shoppingCartState.shoppingCart._id;yield this.httpClient.delete(a.a.cartItemsUrl+"all/"+t).toPromise(),o.a.dispatch(Object(r.e)())})}updateCartItemAsync(t){return Object(c.a)(this,void 0,void 0,function*(){const e=yield this.httpClient.put(a.a.cartItemsUrl+t._id,t).toPromise();return o.a.dispatch(Object(r.f)(e)),e})}getTotalPrice(){let t=0;return o.a.getState().cartItemState.cartItems.map(e=>t+=e.totalPrice),t}getTotalQuantity(){let t=0;return o.a.getState().cartItemState.cartItems.map(e=>t+=e.quantity),t}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(s.b))},t.\u0275prov=i.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},laEZ:function(t,e,n){"use strict";n.d(e,"a",function(){return O});var c=n("mrSG"),a=n("vBqF"),r=n("V9dn"),o=n("fXoL"),i=n("cOBF"),s=n("NFeN"),l=n("ofXK"),d=n("6M75"),u=n("bTqV"),b=n("tyNb"),h=n("AytR"),m=n("Wp6s"),p=n("kmnG"),g=n("qFsG"),f=n("3Pt+");let C=(()=>{class t{constructor(t){this.cartItemsService=t}ngOnInit(){this.imageUrl=h.a.productsUrl+"productImages/"+this.cartItem.product.imageName}plus(){this.cartItem.quantity++,this.cartItem.totalPrice=this.cartItem.quantity*this.cartItem.product.price,this.cartItemsService.updateCartItemAsync(this.cartItem)}minus(){this.cartItem.quantity--,this.cartItem.totalPrice=this.cartItem.quantity*this.cartItem.product.price,this.cartItemsService.updateCartItemAsync(this.cartItem)}deleteCartItem(){this.cartItemsService.deleteCartItemAsync(this.cartItem._id)}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(i.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-cart-card"]],inputs:{cartItem:"cartItem",enableChanges:"enableChanges"},decls:25,vars:15,consts:[["mat-card-image","",3,"src","alt"],[3,"ngStyle"],["mat-icon-button","","color","warn",3,"hidden","disabled","click"],["matInput","","disabled","","type","number","min","1",3,"ngModel","ngModelChange"],["mat-icon-button","","color","accent",3,"hidden","click"],["mat-icon-button","",3,"hidden","click"]],template:function(t,e){1&t&&(o.Sb(0,"mat-card"),o.Nb(1,"img",0),o.Sb(2,"mat-card-header"),o.Sb(3,"mat-card-title",1),o.vc(4),o.Rb(),o.Sb(5,"mat-card-subtitle"),o.vc(6),o.dc(7,"currency"),o.Rb(),o.Sb(8,"mat-card-subtitle"),o.vc(9),o.dc(10,"currency"),o.Rb(),o.Rb(),o.Sb(11,"mat-card-actions"),o.Sb(12,"button",2),o.Zb("click",function(){return e.minus()}),o.Sb(13,"mat-icon"),o.vc(14,"remove"),o.Rb(),o.Rb(),o.Sb(15,"mat-form-field"),o.Sb(16,"mat-label"),o.vc(17,"Quantity"),o.Rb(),o.Sb(18,"input",3),o.Zb("ngModelChange",function(t){return e.cartItem.quantity=t}),o.Rb(),o.Rb(),o.Sb(19,"button",4),o.Zb("click",function(){return e.plus()}),o.Sb(20,"mat-icon"),o.vc(21,"add"),o.Rb(),o.Rb(),o.Sb(22,"a",5),o.Zb("click",function(){return e.deleteCartItem()}),o.Sb(23,"mat-icon"),o.vc(24,"delete_forever"),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.Bb(1),o.ic("src",e.imageUrl,o.pc),o.ic("alt",e.cartItem.product.name),o.Bb(2),o.hc("ngStyle",e.cartItem.background),o.Bb(1),o.wc(e.cartItem.product.name),o.Bb(2),o.xc("Price: ",o.ec(7,11,e.cartItem.product.price),""),o.Bb(3),o.xc("Total Price: ",o.ec(10,13,e.cartItem.totalPrice),""),o.Bb(3),o.hc("hidden",!e.enableChanges)("disabled",e.cartItem.quantity<=1),o.Bb(6),o.hc("ngModel",e.cartItem.quantity),o.Bb(1),o.hc("hidden",!e.enableChanges),o.Bb(3),o.hc("hidden",!e.enableChanges))},directives:[m.a,m.e,m.d,m.h,l.n,m.g,m.b,u.b,s.a,p.c,p.f,g.b,f.p,f.b,f.l,f.o,u.a],pipes:[l.c],styles:["mat-card[_ngcontent-%COMP%]{width:100%;display:flex;padding:0}img[_ngcontent-%COMP%]{height:100px;width:100px;float:left}.mat-card-image[_ngcontent-%COMP%]{margin:0}mat-form-field[_ngcontent-%COMP%]{width:50px;margin:10px}mat-card-title[_ngcontent-%COMP%]{word-wrap:break-word;width:100px;font-size:medium}a[_ngcontent-%COMP%]{position:absolute;top:1px;right:1px}a[hidden][_ngcontent-%COMP%], button[hidden][_ngcontent-%COMP%]{display:none}"]}),t})();function I(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",11),o.Zb("click",function(){o.oc(t);const e=o.cc();return e.deleteCart=!e.deleteCart}),o.Sb(1,"mat-icon"),o.vc(2,"delete_forever"),o.Rb(),o.Rb()}if(2&t){const t=o.cc();o.hc("hidden",!t.enableChanges)}}function S(t,e){1&t&&o.Nb(0,"div",12)}function v(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div",13),o.Sb(1,"h3"),o.vc(2," Dear customer, "),o.Nb(3,"br"),o.vc(4," Do you want to delete all products in the cart? "),o.Rb(),o.Sb(5,"button",14),o.Zb("click",function(){return o.oc(t),o.cc().deleteCartAsync()}),o.vc(6," Delete Cart "),o.Rb(),o.Sb(7,"button",15),o.Zb("click",function(){o.oc(t);const e=o.cc();return e.deleteCart=!e.deleteCart}),o.vc(8," Back to cart "),o.Rb(),o.Rb()}}function y(t,e){if(1&t&&o.Nb(0,"app-cart-card",17),2&t){const t=e.$implicit,n=o.cc(2);o.hc("cartItem",t)("enableChanges",n.enableChanges)}}function P(t,e){if(1&t&&(o.Qb(0),o.uc(1,y,1,2,"app-cart-card",16),o.Pb()),2&t){const t=o.cc();o.Bb(1),o.hc("ngForOf",t.cartItems)}}let O=(()=>{class t{constructor(t){this.cartItemsService=t,this.paths=r.a,this.totalPrice=0,this.totalQuantity=0,this.deleteCart=!1}ngOnInit(){return Object(c.a)(this,void 0,void 0,function*(){this.shoppingCartId&&(this.cartItems=yield this.cartItemsService.getAllCartItemsAsync(this.shoppingCartId),this.totalPrice=this.cartItemsService.getTotalPrice(),this.totalQuantity=this.cartItemsService.getTotalQuantity()),this.unSubscribeFromStore=a.a.subscribe(()=>{this.cartItems=a.a.getState().cartItemState.cartItems,this.totalPrice=this.cartItemsService.getTotalPrice(),this.totalQuantity=this.cartItemsService.getTotalQuantity()})})}searchProduct(t){this.cartItems.map(e=>{e.background=t.length&&e.product.name.toLowerCase().includes(t.toLowerCase())?{background:"yellow"}:{background:"white"}})}deleteCartAsync(){return Object(c.a)(this,void 0,void 0,function*(){yield this.cartItemsService.deleteAllCartItemsAsync(),this.deleteCart=!1})}ngOnDestroy(){this.cartItems&&this.cartItems.map(t=>{t.background={background:"white"}}),this.unSubscribeFromStore&&this.unSubscribeFromStore()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(i.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-cart-list"]],inputs:{shoppingCartId:"shoppingCartId",enableChanges:"enableChanges"},decls:29,vars:13,consts:[[1,"cart-list-container"],[1,"example-spacer"],["mat-icon-button","","color","warn","class","delete-cart-button",3,"hidden","click",4,"ngIf"],[1,"cart-card-container"],["mat-tab-nav-bar","",1,"navbarCart",3,"hidden"],[3,"productToSearch"],["class","emptyProducts",4,"ngIf"],["class","delete-cart-container",4,"ngIf"],[4,"ngIf"],[1,"footerCart"],["mat-button","",3,"hidden","routerLink"],["mat-icon-button","","color","warn",1,"delete-cart-button",3,"hidden","click"],[1,"emptyProducts"],[1,"delete-cart-container"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"cartItem","enableChanges",4,"ngFor","ngForOf"],[3,"cartItem","enableChanges"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"header"),o.Sb(2,"h1"),o.vc(3," Shopping Cart "),o.Sb(4,"mat-icon"),o.vc(5,"shopping_basket"),o.Rb(),o.Rb(),o.Nb(6,"span",1),o.uc(7,I,3,1,"button",2),o.Rb(),o.Sb(8,"main",3),o.Sb(9,"nav",4),o.Sb(10,"app-search-bar",5),o.Zb("productToSearch",function(t){return e.searchProduct(t)}),o.Rb(),o.Rb(),o.uc(11,S,1,0,"div",6),o.uc(12,v,9,0,"div",7),o.uc(13,P,2,1,"ng-container",8),o.Rb(),o.Sb(14,"footer",9),o.Sb(15,"span"),o.vc(16,"Quantity"),o.Sb(17,"mat-icon"),o.vc(18,"shopping_basket"),o.Rb(),o.vc(19),o.dc(20,"number"),o.Rb(),o.Nb(21,"span",1),o.Sb(22,"h2"),o.vc(23),o.dc(24,"currency"),o.Rb(),o.Sb(25,"a",10),o.vc(26," Order "),o.Sb(27,"mat-icon"),o.vc(28,"shopping_cart"),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.Bb(7),o.hc("ngIf",null==e.cartItems?null:e.cartItems.length),o.Bb(2),o.hc("hidden",e.enableChanges),o.Bb(2),o.hc("ngIf",!(e.deleteCart||null!=e.cartItems&&e.cartItems.length)),o.Bb(1),o.hc("ngIf",e.deleteCart),o.Bb(1),o.hc("ngIf",!e.deleteCart),o.Bb(6),o.xc(": ",o.ec(20,9,e.totalQuantity),""),o.Bb(4),o.xc("Total: ",o.ec(24,11,e.totalPrice),""),o.Bb(2),o.hc("hidden",!e.enableChanges)("routerLink",e.paths.orderUrl))},directives:[s.a,l.m,d.a,u.a,b.c,u.b,l.l,C],pipes:[l.f,l.c],styles:[".cart-list-container[_ngcontent-%COMP%]{height:100%;box-sizing:border-box;display:grid;grid-template-columns:repeat(6,1fr);grid-template-rows:10% 80% 10%}footer[_ngcontent-%COMP%], header[_ngcontent-%COMP%]{grid-column:span 6;display:flex;justify-content:center;align-items:center}main[_ngcontent-%COMP%]{overflow:auto;grid-column:span 6}header[_ngcontent-%COMP%]{background-color:#fff}footer[_ngcontent-%COMP%]{background-color:#3c6382;display:flex}.emptyProducts[_ngcontent-%COMP%]{height:100%;background-image:url(empty-shopping-cart.dac71dc168f2029edd41.jpg);background-position:50%;background-repeat:no-repeat;background-size:contain}footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;background-color:#eb2f06}footer[_ngcontent-%COMP%] > a[hidden][_ngcontent-%COMP%]{display:none}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}footer[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:x-large}footer[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-right:5px}button[hidden][_ngcontent-%COMP%], nav[hidden][_ngcontent-%COMP%]{display:none}nav[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:left}.delete-cart-button[_ngcontent-%COMP%], .delete-cart-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.delete-cart-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:xx-large}.delete-cart-container[_ngcontent-%COMP%]{height:100%;overflow:auto}.delete-cart-container[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:5px}"]}),t})()},vSYu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var c=n("mrSG"),a=n("AytR"),r=n("fXoL"),o=n("tk/3");let i=(()=>{class t{constructor(t){this.httpClient=t}getAllCategoriesAsync(){return Object(c.a)(this,void 0,void 0,function*(){return yield this.httpClient.get(a.a.categoriesUrl).toPromise()})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(o.b))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);